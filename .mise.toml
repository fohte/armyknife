[tools]
"cargo:ast-grep" = "0.40.4"
lefthook = "2.0.15"

# lefthook hooks
actionlint = "1.7.10"
bun = "1.3.6"
"cargo:basefmt" = "0.1.0"
"npm:@commitlint/cli" = "20.3.1"
"npm:prettier" = "3.7.4"
shellcheck = "0.11.0"
shfmt = "3.12.0"

# sandbox runtime for tests
"npm:@anthropic-ai/sandbox-runtime" = "0.0.34"

[settings]
npm.bun = true

[tasks.test]
description = "Run tests in sandbox"
run = ["cargo test --no-run", "srt --settings ./srt-settings.json cargo test"]
[tasks.test.env]
# Disable sccache (if configured locally) to avoid sandbox permission issues
RUSTC_WRAPPER = ""
